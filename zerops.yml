zerops:
  - setup: nodesyslog
    build:
      os: ubuntu
      base: nodejs@20
      # prepareCommands:
      #  - echo "The application build is being prepared ...."
      buildCommands:
        - npm i
      deployFiles:
        - ./app/index.js
        - node_modules
        - package.json
    run:
      os: ubuntu
      base: nodejs@20
      ports:
        - port: 3000
          httpSupport: true
        - port: 3001
          httpSupport: true
      # prepareCommands:
      #  - echo "The application runtime is being prepared ...."
      initCommands:
        - echo "The application runtime is being initialized .... We need a long log line to see if multi-line wrapping is correctly shown using mono font. We need a long log line to see if multi-line wrapping is correctly shown using mono font. We need a long log line to see if multi-line wrapping is correctly shown using mono font. We need a long log line to see if multi-line wrapping is correctly shown using mono font."
      # initCommands:
      #  - echo "Follow explicit exit ..."
      #  - sleep 60
      #  - exit 1
      start: npm start

  - setup: nodesyslogha
    extends: nodesyslog